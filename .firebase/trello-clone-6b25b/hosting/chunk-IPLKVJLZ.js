import{A as qt,D as _t,m as ut,n as p,p as q,r as $t,t as V,u as ft,v as A,w as pt,x as Gt,y as gt,z as b}from"./chunk-OJTBDH32.js";import{$ as E,A as m,Aa as X,E as w,G as T,H as u,I as f,Ia as Wt,J as R,Ka as zt,La as Zt,M as O,Qa as G,S as Lt,T as ot,U as rt,V as at,W as x,Wa as Kt,Xa as dt,Y as jt,Za as S,_ as Yt,_a as Ut,a as M,b as it,c as st,da as Xt,e as _,ea as I,fa as C,ga as $,ha as ht,ia as lt,k as Z,ka as Y,l as K,m as nt,ma as Vt,o as N,q as H,r as L,t as At,u as Bt,v as U,w as Nt,y as j,ya as ct,z as Ht}from"./chunk-GRWJBT5S.js";var W=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},mt=class extends W{constructor(t,s,e,i,n){super(),this.component=t,this.viewContainerRef=s,this.injector=e,this.componentFactoryResolver=i,this.projectableNodes=n}},B=class extends W{constructor(t,s,e,i){super(),this.templateRef=t,this.viewContainerRef=s,this.context=e,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,s=this.context){return this.context=s,super.attach(t)}detach(){return this.context=void 0,super.detach()}},yt=class extends W{constructor(t){super(),this.element=t instanceof E?t.nativeElement:t}},vt=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof mt)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof B)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof yt)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Q=class extends vt{constructor(t,s,e,i,n){super(),this.outletElement=t,this._componentFactoryResolver=s,this._appRef=e,this._defaultInjector=i,this.attachDomPortal=r=>{this._document;let a=r.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=n}attachComponentPortal(t){let e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=e.create(t.injector||this._defaultInjector||x.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let s=t.viewContainerRef,e=s.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return e.rootNodes.forEach(i=>this.outletElement.appendChild(i)),e.detectChanges(),this.setDisposeFn(()=>{let i=s.indexOf(e);i!==-1&&s.remove(i)}),this._attachedPortal=t,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Qt=$t(),bt=class{constructor(t,s){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=s}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=p(-this._previousScrollPosition.left),t.style.top=p(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,s=this._document.body,e=t.style,i=s.style,n=e.scrollBehavior||"",r=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Qt&&(e.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Qt&&(e.scrollBehavior=n,i.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let s=this._document.body,e=this._viewportRuler.getViewportSize();return s.scrollHeight>e.height||s.scrollWidth>e.width}};var kt=class{constructor(t,s,e,i){this._scrollDispatcher=t,this._ngZone=s,this._viewportRuler=e,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(L(s=>!s||!this._overlayRef.overlayElement.contains(s.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let s=this._viewportRuler.getViewportScrollPosition().top;Math.abs(s-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},J=class{enable(){}disable(){}attach(){}};function wt(o,t){return t.some(s=>{let e=o.bottom<s.top,i=o.top>s.bottom,n=o.right<s.left,r=o.left>s.right;return e||i||n||r})}function Jt(o,t){return t.some(s=>{let e=o.top<s.top,i=o.bottom>s.bottom,n=o.left<s.left,r=o.right>s.right;return e||i||n||r})}var Mt=class{constructor(t,s,e,i){this._scrollDispatcher=t,this._viewportRuler=s,this._ngZone=e,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let s=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();wt(s,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},_e=(()=>{let t=class t{constructor(e,i,n,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new J,this.close=a=>new kt(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new bt(this._viewportRuler,this._document),this.reposition=a=>new Mt(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}};t.\u0275fac=function(i){return new(i||t)(u(Gt),u(gt),u(C),u(S))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),z=class{constructor(t){if(this.scrollStrategy=new J,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let s=Object.keys(t);for(let e of s)t[e]!==void 0&&(this[e]=t[e])}}};var Et=class{constructor(t,s){this.connectionPair=t,this.scrollableViewProperties=s}};var ne=(()=>{let t=class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(i){return new(i||t)(u(S))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),me=(()=>{let t=class t extends ne{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=n=>{let r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){let l=r[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(i){return new(i||t)(u(S),u(C,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),ye=(()=>{let t=class t extends ne{constructor(e,i,n){super(e),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=V(r)},this._clickListener=r=>{let a=V(r),l=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let h=c.length-1;h>-1;h--){let d=c[h];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(l))break;let v=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(r)):v.next(r)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(i){return new(i||t)(u(S),u(q),u(C,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),oe=(()=>{let t=class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||ft()){let n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<n.length;r++)n[r].remove()}let i=this._document.createElement("div");i.classList.add(e),ft()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};t.\u0275fac=function(i){return new(i||t)(u(S),u(q))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Ct=class{constructor(t,s,e,i,n,r,a,l,c,h=!1){this._portalOutlet=t,this._host=s,this._pane=e,this._config=i,this._ngZone=n,this._keyboardDispatcher=r,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new _,this._attachments=new _,this._detachments=new _,this._locationChanges=st.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new _,this._outsidePointerEvents=new _,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let s=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof s?.onDestroy=="function"&&s.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),s}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=M(M({},this._config),t),this._updateElementSize()}setDirection(t){this._config=it(M({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=p(this._config.width),t.height=p(this._config.height),t.minWidth=p(this._config.minWidth),t.minHeight=p(this._config.minHeight),t.maxWidth=p(this._config.maxWidth),t.maxHeight=p(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,s,e){let i=ut(s||[]).filter(n=>!!n);i.length&&(e?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(m(H(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},te="cdk-overlay-connected-position-bounding-box",ve=/([A-Za-z%]+)$/,Ot=class{get positions(){return this._preferredPositions}constructor(t,s,e,i,n){this._viewportRuler=s,this._document=e,this._platform=i,this._overlayContainer=n,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _,this._resizeSubscription=st.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(te),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,s=this._overlayRect,e=this._viewportRect,i=this._containerRect,n=[],r;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,i,a),c=this._getOverlayPoint(l,s,a),h=this._getOverlayFit(c,s,e,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,e)){n.push({position:a,origin:l,overlayRect:s,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!r||r.overlayFit.visibleArea<h.visibleArea)&&(r={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:s})}if(n.length){let a=null,l=-1;for(let c of n){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&F(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(te),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let s=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,s)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,s,e){let i;if(e.originX=="center")i=t.left+t.width/2;else{let r=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i=e.originX=="start"?r:a}s.left<0&&(i-=s.left);let n;return e.originY=="center"?n=t.top+t.height/2:n=e.originY=="top"?t.top:t.bottom,s.top<0&&(n-=s.top),{x:i,y:n}}_getOverlayPoint(t,s,e){let i;e.overlayX=="center"?i=-s.width/2:e.overlayX==="start"?i=this._isRtl()?-s.width:0:i=this._isRtl()?0:-s.width;let n;return e.overlayY=="center"?n=-s.height/2:n=e.overlayY=="top"?0:-s.height,{x:t.x+i,y:t.y+n}}_getOverlayFit(t,s,e,i){let n=ie(s),{x:r,y:a}=t,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(r+=l),c&&(a+=c);let h=0-r,d=r+n.width-e.width,v=0-a,y=a+n.height-e.height,g=this._subtractOverflows(n.width,h,d),k=this._subtractOverflows(n.height,v,y),Tt=g*k;return{visibleArea:Tt,isCompletelyWithinViewport:n.width*n.height===Tt,fitsInViewportVertically:k===n.height,fitsInViewportHorizontally:g==n.width}}_canFitWithFlexibleDimensions(t,s,e){if(this._hasFlexibleDimensions){let i=e.bottom-s.y,n=e.right-s.x,r=ee(this._overlayRef.getConfig().minHeight),a=ee(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||r!=null&&r<=i,c=t.fitsInViewportHorizontally||a!=null&&a<=n;return l&&c}return!1}_pushOverlayOnScreen(t,s,e){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=ie(s),n=this._viewportRect,r=Math.max(t.x+i.width-n.width,0),a=Math.max(t.y+i.height-n.height,0),l=Math.max(n.top-e.top-t.y,0),c=Math.max(n.left-e.left-t.x,0),h=0,d=0;return i.width<=n.width?h=c||-r:h=t.x<this._viewportMargin?n.left-e.left-t.x:0,i.height<=n.height?d=l||-a:d=t.y<this._viewportMargin?n.top-e.top-t.y:0,this._previousPushAmount={x:h,y:d},{x:t.x+h,y:t.y+d}}_applyPosition(t,s){if(this._setTransformOrigin(t),this._setOverlayElementStyles(s,t),this._setBoundingBoxStyles(s,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){let e=this._getScrollVisibility(),i=new Et(t,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let s=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,i=t.overlayY;t.overlayX==="center"?e="center":this._isRtl()?e=t.overlayX==="start"?"right":"left":e=t.overlayX==="start"?"left":"right";for(let n=0;n<s.length;n++)s[n].style.transformOrigin=`${e} ${i}`}_calculateBoundingBoxRect(t,s){let e=this._viewportRect,i=this._isRtl(),n,r,a;if(s.overlayY==="top")r=t.y,n=e.height-r+this._viewportMargin;else if(s.overlayY==="bottom")a=e.height-t.y+this._viewportMargin*2,n=e.height-a+this._viewportMargin;else{let y=Math.min(e.bottom-t.y+e.top,t.y),g=this._lastBoundingBoxSize.height;n=y*2,r=t.y-y,n>g&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-g/2)}let l=s.overlayX==="start"&&!i||s.overlayX==="end"&&i,c=s.overlayX==="end"&&!i||s.overlayX==="start"&&i,h,d,v;if(c)v=e.width-t.x+this._viewportMargin,h=t.x-this._viewportMargin;else if(l)d=t.x,h=e.right-t.x;else{let y=Math.min(e.right-t.x+e.left,t.x),g=this._lastBoundingBoxSize.width;h=y*2,d=t.x-y,h>g&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-g/2)}return{top:r,left:d,bottom:a,right:v,width:h,height:n}}_setBoundingBoxStyles(t,s){let e=this._calculateBoundingBoxRect(t,s);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let n=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=p(e.height),i.top=p(e.top),i.bottom=p(e.bottom),i.width=p(e.width),i.left=p(e.left),i.right=p(e.right),s.overlayX==="center"?i.alignItems="center":i.alignItems=s.overlayX==="end"?"flex-end":"flex-start",s.overlayY==="center"?i.justifyContent="center":i.justifyContent=s.overlayY==="bottom"?"flex-end":"flex-start",n&&(i.maxHeight=p(n)),r&&(i.maxWidth=p(r))}this._lastBoundingBoxSize=e,F(this._boundingBox.style,i)}_resetBoundingBoxStyles(){F(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){F(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,s){let e={},i=this._hasExactPosition(),n=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(i){let h=this._viewportRuler.getViewportScrollPosition();F(e,this._getExactOverlayY(s,t,h)),F(e,this._getExactOverlayX(s,t,h))}else e.position="static";let a="",l=this._getOffset(s,"x"),c=this._getOffset(s,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),e.transform=a.trim(),r.maxHeight&&(i?e.maxHeight=p(r.maxHeight):n&&(e.maxHeight="")),r.maxWidth&&(i?e.maxWidth=p(r.maxWidth):n&&(e.maxWidth="")),F(this._pane.style,e)}_getExactOverlayY(t,s,e){let i={top:"",bottom:""},n=this._getOverlayPoint(s,this._overlayRect,t);if(this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,e)),t.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;i.bottom=`${r-(n.y+this._overlayRect.height)}px`}else i.top=p(n.y);return i}_getExactOverlayX(t,s,e){let i={left:"",right:""},n=this._getOverlayPoint(s,this._overlayRect,t);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,e));let r;if(this._isRtl()?r=t.overlayX==="end"?"left":"right":r=t.overlayX==="end"?"right":"left",r==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(n.x+this._overlayRect.width)}px`}else i.left=p(n.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),s=this._pane.getBoundingClientRect(),e=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Jt(t,e),isOriginOutsideView:wt(t,e),isOverlayClipped:Jt(s,e),isOverlayOutsideView:wt(s,e)}}_subtractOverflows(t,...s){return s.reduce((e,i)=>e-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,s=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+t-this._viewportMargin,bottom:e.top+s-this._viewportMargin,width:t-2*this._viewportMargin,height:s-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,s){return s==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ut(t).forEach(s=>{s!==""&&this._appliedPanelClasses.indexOf(s)===-1&&(this._appliedPanelClasses.push(s),this._pane.classList.add(s))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof E)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let s=t.width||0,e=t.height||0;return{top:t.y,bottom:t.y+e,left:t.x,right:t.x+s,height:e,width:s}}};function F(o,t){for(let s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);return o}function ee(o){if(typeof o!="number"&&o!=null){let[t,s]=o.split(ve);return!s||s==="px"?parseFloat(t):null}return o||null}function ie(o){return{top:Math.floor(o.top),right:Math.floor(o.right),bottom:Math.floor(o.bottom),left:Math.floor(o.left),width:Math.floor(o.width),height:Math.floor(o.height)}}var re=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],ae=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],se="cdk-global-overlay-wrapper",St=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let s=t.getConfig();this._overlayRef=t,this._width&&!s.width&&t.updateSize({width:this._width}),this._height&&!s.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(se),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,s=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:i,height:n,maxWidth:r,maxHeight:a}=e,l=(i==="100%"||i==="100vw")&&(!r||r==="100%"||r==="100vw"),c=(n==="100%"||n==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,d=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",y="",g="",k="";l?k="flex-start":h==="center"?(k="center",v?g=d:y=d):v?h==="left"||h==="end"?(k="flex-end",y=d):(h==="right"||h==="start")&&(k="flex-start",g=d):h==="left"||h==="start"?(k="flex-start",y=d):(h==="right"||h==="end")&&(k="flex-end",g=d),t.position=this._cssPosition,t.marginLeft=l?"0":y,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,s.justifyContent=k,s.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,s=this._overlayRef.hostElement,e=s.style;s.classList.remove(se),e.justifyContent=e.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},be=(()=>{let t=class t{constructor(e,i,n,r){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=r}global(){return new St}flexibleConnectedTo(e){return new Ot(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(i){return new(i||t)(u(gt),u(S),u(q),u(oe))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),ke=0,he=(()=>{let t=class t{constructor(e,i,n,r,a,l,c,h,d,v,y,g){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=h,this._directionality=d,this._location=v,this._outsideClickDispatcher=y,this._animationsModuleType=g}create(e){let i=this._createHostElement(),n=this._createPaneElement(i),r=this._createPortalOutlet(n),a=new z(e);return a.direction=a.direction||this._directionality.value,new Ct(r,i,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${ke++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Kt)),new Q(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(i){return new(i||t)(u(_e),u(oe),u(Yt),u(be),u(me),u(x),u(C),u(S),u(A),u(Ut),u(ye),u(jt,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var ce=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=O({type:t,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[G([{provide:pt,useClass:pt}])]});let o=t;return o})(),xt=new T("cdk-menu"),D=function(o){return o[o.nextItem=0]="nextItem",o[o.previousItem=1]="previousItem",o[o.currentItem=2]="currentItem",o}(D||{}),P=new T("cdk-menu-stack"),Ce={provide:P,deps:[[new rt,new at,new ot(P)]],useFactory:o=>o||new de},Oe=o=>({provide:P,deps:[[new rt,new at,new ot(P)]],useFactory:t=>t||de.inline(o)}),Se=0,de=(()=>{let t=class t{constructor(){this.id=`${Se++}`,this._elements=[],this._close=new _,this._empty=new _,this._hasFocus=new _,this.closed=this._close,this.hasFocus=this._hasFocus.pipe(j(!1),At(0),Nt()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(e){let i=new t;return i._inlineMenuOrientation=e,i}push(e){this._elements.push(e)}close(e,i){let{focusNextOnEmpty:n,focusParentTrigger:r}=M({},i);if(this._elements.indexOf(e)>=0){let a;do a=this._elements.pop(),this._close.next({item:a,focusParentTrigger:r});while(a!==e);this.isEmpty()&&this._empty.next(n)}}closeSubMenuOf(e){let i=!1;if(this._elements.indexOf(e)>=0)for(i=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return i}closeAll(e){let{focusNextOnEmpty:i,focusParentTrigger:n}=M({},e);if(!this.isEmpty()){for(;!this.isEmpty();){let r=this._elements.pop();r&&this._close.next({item:r,focusParentTrigger:n})}this._empty.next(i)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac});let o=t;return o})(),It=new T("cdk-menu-trigger"),De=(()=>{let t=class t{constructor(){this.injector=f(x),this.viewContainerRef=f(lt),this.menuStack=f(P),this.opened=new I,this.closed=new I,this.overlayRef=null,this.destroyed=new _,this.stopOutsideClicksListener=H(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){let e=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||e)&&(this._menuPortal=new B(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let i=e;i;i=i?.parentElement??null)if(i.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||x.create({providers:[{provide:It,useValue:this},{provide:P,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=O({type:t,hostVars:2,hostBindings:function(i,n){i&2&&Y("aria-controls",n.childMenu==null?null:n.childMenu.id)("data-cdk-menu-stack-id",n.menuStack.id)},standalone:!0});let o=t;return o})();var Ft=new T("cdk-menu-aim");function ue(o,t){if(!t.isTrusted)return!1;let s=o.nativeElement,e=t.keyCode;return s.nodeName==="BUTTON"&&!s.disabled?e===13||e===32:s.nodeName==="A"?e===13:!1}var Pe=(()=>{let t=class t extends De{constructor(){super(),this._elementRef=f(E),this._overlay=f(he),this._ngZone=f(C),this._changeDetectorRef=f(Xt),this._inputModalityDetector=f(_t),this._directionality=f(A,{optional:!0}),this._parentMenu=f(xt,{optional:!0}),this._menuAim=f(Ft,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(e){let i=this._parentMenu?.orientation==="vertical";switch(e.keyCode){case 32:case 13:!b(e)&&!ue(this._elementRef,e)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:b(e)||this._parentMenu&&i&&this._directionality?.value!=="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:b(e)||this._parentMenu&&i&&this._directionality?.value==="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:b(e)||i||(e.preventDefault(),this.open(),e.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{N(this._elementRef.nativeElement,"mouseenter").pipe(L(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()),m(this.destroyed)).subscribe(()=>{let e=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(e):e()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new z({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?re:ae)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(m(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(m(this.stopOutsideClicksListener)).subscribe(e=>{let i=V(e),n=this._elementRef.nativeElement;i!==n&&!n.contains(i)&&(this.isElementInsideMenuStack(i)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(m(this.destroyed)).subscribe(e=>{e||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=O({type:t,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(i,n){i&1&&X("focusin",function(){return n._setHasFocus(!0)})("focusout",function(){return n._setHasFocus(!1)})("keydown",function(a){return n._toggleOnKeydown(a)})("click",function(){return n._handleClick()}),i&2&&Y("aria-haspopup",n.menuTemplateRef?"menu":null)("aria-expanded",n.menuTemplateRef==null?null:n.isOpen())},inputs:{menuTemplateRef:[R.None,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[R.None,"cdkMenuPosition","menuPosition"],menuData:[R.None,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[G([{provide:It,useExisting:t},Ce]),$]});let o=t;return o})(),Re=(()=>{let t=class t{get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}constructor(){this._dir=f(A,{optional:!0}),this._elementRef=f(E),this._ngZone=f(C),this._inputModalityDetector=f(_t),this._menuAim=f(Ft,{optional:!0}),this._menuStack=f(P),this._parentMenu=f(xt,{optional:!0}),this._menuTrigger=f(Pe,{optional:!0,self:!0}),this.disabled=!1,this.triggered=new I,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new _,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){let{keepOpen:i}=M({},e);!this.disabled&&!this.hasMenu&&(this.triggered.next(),i||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||(!e||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(e){switch(e.keyCode){case 32:case 13:!b(e)&&!ue(this._elementRef,e)&&this.trigger({keepOpen:e.keyCode===32&&!this.closeOnSpacebarTrigger});break;case 39:b(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case 37:b(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(e):this._forwardArrowPressed(e));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){let i=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(i,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?D.previousItem:D.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(e){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:D.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){let e=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>N(this._elementRef.nativeElement,"mouseenter").pipe(L(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu),m(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(e):e()}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=O({type:t,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(i,n){i&1&&X("blur",function(){return n._resetTabIndex()})("focus",function(){return n._setTabIndex()})("click",function(){return n.trigger()})("keydown",function(a){return n._onKeydown(a)}),i&2&&(ct("tabindex",n._tabindex),Y("aria-disabled",n.disabled||null))},inputs:{disabled:[R.HasDecoratorInputTransform,"cdkMenuItemDisabled","disabled",dt],typeaheadLabel:[R.None,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0,features:[ht]});let o=t;return o})(),Dt=class{constructor(t){this._items=t,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new _,this.entered.subscribe(s=>this.activeElement=s),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return nt(()=>this._items.changes.pipe(j(this._items),Z(t=>t.map(s=>N(s._elementRef.nativeElement,"mouseenter").pipe(U(s),m(this._items.changes)))),K()))}_getItemPointerExits(){return nt(()=>this._items.changes.pipe(j(this._items),Z(t=>t.map(s=>N(s._elementRef.nativeElement,"mouseout").pipe(U(s),m(this._items.changes)))),K()))}},xe=0,Ie=(()=>{let t=class t extends ce{constructor(){super(...arguments),this.nativeElement=f(E).nativeElement,this.ngZone=f(C),this.menuStack=f(P),this.menuAim=f(Ft,{optional:!0,self:!0}),this.dir=f(A,{optional:!0}),this.id=`cdk-menu-${xe++}`,this.orientation="vertical",this.isInline=!1,this.destroyed=new _,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}_getTabIndex(){let e=this._menuStackHasFocus?-1:0;return this.isInline?e:null}closeOpenMenu(e,i){let{focusParentTrigger:n}=M({},i),r=this.keyManager,a=this.triggerItem;e===a?.getMenuTrigger()?.getMenu()&&(a?.getMenuTrigger()?.close(),n&&(a?r.setActiveItem(a):r.setFirstItemActive()))}_setKeyManager(){this.keyManager=new qt(this.items).withWrap().withTypeAhead().withHomeAndEnd(),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){let e=H(this.items.changes,this.destroyed);this.items.changes.pipe(j(this.items),Z(i=>i.filter(n=>n.hasMenu).map(n=>n.getMenuTrigger().opened.pipe(U(n),m(e)))),K(),Ht(i=>(this.triggerItem=i,i.getMenuTrigger().closed)),m(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(m(this.destroyed)).subscribe(({item:e,focusParentTrigger:i})=>this.closeOpenMenu(e,{focusParentTrigger:i}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(m(this.destroyed)).subscribe(e=>{this._menuStackHasFocus=e})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new Dt(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}};t.\u0275fac=(()=>{let e;return function(n){return(e||(e=Lt(t)))(n||t)}})(),t.\u0275dir=O({type:t,contentQueries:function(i,n,r){if(i&1&&Wt(r,Re,5),i&2){let a;zt(a=Zt())&&(n.items=a)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(i,n){i&1&&X("focus",function(){return n.focusFirstItem()})("focusin",function(){return n.menuStack.setHasFocus(!0)})("focusout",function(){return n.menuStack.setHasFocus(!1)}),i&2&&(ct("tabindex",n._getTabIndex())("id",n.id),Y("aria-orientation",n.orientation)("data-cdk-menu-stack-id",n.menuStack.id))},inputs:{id:"id"},standalone:!0,features:[$]});let o=t;return o})(),Ri=(()=>{let t=class t extends Ie{constructor(){super(),this._parentTrigger=f(It,{optional:!0}),this.closed=new I,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){let i=this.keyManager;switch(e.keyCode){case 37:case 39:b(e)||(e.preventDefault(),i.setFocusOrigin("keyboard"),i.onKeydown(e));break;case 27:b(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:D.currentItem,focusParentTrigger:!0}));break;case 9:b(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:i.onKeydown(e)}}_toggleMenuFocus(e){let i=this.keyManager;switch(e){case D.nextItem:i.setFocusOrigin("keyboard"),i.setNextItemActive();break;case D.previousItem:i.setFocusOrigin("keyboard"),i.setPreviousItemActive();break;case D.currentItem:i.activeItem&&(i.setFocusOrigin("keyboard"),i.setActiveItem(i.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(m(this.destroyed)).subscribe(e=>this._toggleMenuFocus(e))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=O({type:t,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(i,n){i&1&&X("keydown",function(a){return n._handleKeyEvent(a)}),i&2&&Vt("cdk-menu-inline",n.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[G([{provide:ce,useExisting:t},{provide:xt,useExisting:t},Oe("vertical")]),$]});let o=t;return o})();export{Pe as a,Re as b,Ri as c};
