import{b as X}from"./chunk-ILJQQRYZ.js";import{a as Y}from"./chunk-OM4B5X3W.js";import{D as K,E as Z,F as ee,a as E,b,c as V,d as T,e as D,f as y,g as O,h as M,i as I,j as N,k as G,l as J}from"./chunk-MXDCA7LB.js";import{Ba as u,Ca as d,J as g,Ka as B,L as v,La as z,Ma as R,Na as Q,Oa as c,Pa as j,Q as x,Qa as H,R as k,S as q,Sa as C,_ as A,ab as P,ca as l,cb as $,fb as L,jb as W,ka as _,ma as m,qa as h,qb as F,ra as S,rb as U,va as t,wa as n,xa as s,ya as w}from"./chunk-ADMRNR7F.js";var ie=(()=>{let r=class r{constructor(){this.dimensions="size-2"}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=v({type:r,selectors:[["app-user-icon"]],inputs:{dimensions:"dimensions"},standalone:!0,features:[C],decls:3,vars:1,consts:[[3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"]],template:function(e,p){e&1&&(t(0,"div",0),q(),t(1,"svg",1),s(2,"path",2),n()()),e&2&&m("ngClass",p.dimensions+" flex items-center justify-center")},dependencies:[$,P]});let o=r;return o})();var ae=["deletePopover"],ce=["overlayTrigger"];function se(o,r){if(o&1){let i=w();t(0,"div",3,4)(2,"div",5)(3,"p"),c(4,"Delete Workspace?"),n(),t(5,"button",6),u("click",function(){x(i);let e=d();return k(e.isOpen=!1)}),s(6,"app-xmark-icon",7),n()(),t(7,"div",8)(8,"h3",9),c(9),n(),t(10,"p",10),c(11,"Things to know:"),n(),t(12,"ul",11)(13,"li")(14,"p",12),s(15,"span",13),c(16," This is permanent and can't be undone. "),n()(),t(17,"li")(18,"p",12),s(19,"span",13),c(20," All boards in this Workspace will be closed. "),n()()(),t(21,"form",14),u("ngSubmit",function(){x(i);let e=d();return k(e.deleteWorkspace())}),t(22,"label",15)(23,"span",10),c(24,"Enter the Workspace name to delete"),n(),s(25,"input",16),n(),t(26,"button",17),c(27,"Delete Workspace"),n()()()()}if(o&2){let i=d();l(9),H('Enter the Workspace name "',i.workspace.title.trim(),'" to delete'),l(12),m("formGroup",i.deleteWorkspaceForm),l(5),h("",i.deleteWorkspaceForm.invalid?"bg-cc-overlay cursor-not-allowed":"bg-cc-danger-red hover:brightness-110 hover:bg-cc-danger-red"," rounded text-cc-base py-2 text-sm font-medium"),m("disabled",i.deleteWorkspaceForm.invalid)}}var oe=(()=>{let r=class r{constructor(){this.appService=g(F),this.router=g(W),this.isOpen=!1,this.deleteWorkspaceForm=new D({workspaceTitle:new y("",b.required)})}onClick(a){this.isOpen&&!this.menux.nativeElement.contains(a.target)&&!this.trigger.nativeElement.contains(a.target)&&(this.isOpen=!1)}deleteWorkspace(){this.appService.deleteWorkspace(this.workspace.id),this.router.navigate(["/"])}resetForm(){this.deleteWorkspaceForm.get("workspaceTitle").setValidators([b.required,b.pattern(this.workspace.title.trim())]),this.deleteWorkspaceForm.reset()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=v({type:r,selectors:[["app-delete-workspace"]],viewQuery:function(e,p){if(e&1&&(B(ae,5),B(ce,5)),e&2){let f;z(f=R())&&(p.menux=f.first),z(f=R())&&(p.trigger=f.first)}},hostBindings:function(e,p){e&1&&u("click",function(ne){return p.onClick(ne)},!1,A)},inputs:{workspace:"workspace"},standalone:!0,features:[C],decls:5,vars:2,consts:[["cdkOverlayOrigin","","aria-label","Delete workspace.",1,"hover:underline","hover:text-cc-accent","text-cc-danger-red","me-auto","mt-7","py-3","text-sm","font-semibold",3,"click"],["overlayTrigger","","trigger","cdkOverlayOrigin"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],[1,"bg-cc-menu","flex","flex-col","p-3","gap-2","w-[304px]","rounded-xl","border","border-cc-border/15","shadow-xl","shadow-cc-shadow","text-cc-subtle","text-sm"],["deletePopover",""],[1,"py-1","px-2","font-semibold","flex","justify-center","items-center","relative"],["aria-label","Close popover",1,"absolute","right-0","w-8","aspect-square","rounded-md","flex","justify-center","items-center","hover:bg-cc-menu-item-hover",3,"click"],["dimensions","size-3"],[1,"flex","flex-col","gap-2","mt-1","font-semibold"],[1,"text-cc-text","text-base"],[1,"text-xs"],[1,"font-normal","flex","flex-col","gap-2","text-cc-text"],[1,"flex","items-start","gap-2"],[1,"w-2","mt-[6px]","aspect-square","rounded-full","bg-cc-subtle"],[1,"flex","flex-col","gap-2",3,"formGroup","ngSubmit"],["for","workspace-name-delete"],["formControlName","workspaceTitle","id","workspace-name-delete","type","text",1,"py-[6px]","hover:bg-cc-surface","rounded","bg-cc-base","outline-none","px-2","mt-1","border-2","border-cc-border/40","focus:border-cc-accent","font-normal","w-full"],["type","submit",3,"disabled"]],template:function(e,p){if(e&1&&(t(0,"button",0,1),u("click",function(){return p.isOpen=!p.isOpen,p.resetForm()}),c(3,` Delete this Workspace?
`),n(),_(4,se,28,6,"ng-template",2)),e&2){let f=Q(2);l(4),m("cdkConnectedOverlayOrigin",f)("cdkConnectedOverlayOpen",p.isOpen)}},dependencies:[J,G,O,E,V,T,M,I,N,ee,Z,K]});let o=r;return o})();function le(o,r){if(o&1){let i=w();t(0,"form",6),u("ngSubmit",function(){x(i);let e=d(2);return k(e.editWorkspaceInfo())}),t(1,"label",7)(2,"span",8),c(3,"Name "),t(4,"span",9),c(5,"*"),n()(),s(6,"input",10),n(),t(7,"label",11)(8,"span",8),c(9,"Description (optional)"),n(),s(10,"textarea",12),n(),t(11,"div",13)(12,"button",14),c(13,"Save"),n(),t(14,"button",15),u("click",function(){x(i);let e=d(2);return k(e.cancelEdit())}),c(15,"Cancel"),n()()()}if(o&2){let i=d(2),a;m("formGroup",i.editWorkspaceForm),l(6),h("",(a=i.editWorkspaceForm.get("title"))!=null&&a.errors?"border-cc-danger-red":""," py-[6px] hover:bg-cc-surface rounded bg-cc-surface/60 outline-none px-2 border-2 border-cc-border/40 focus:border-cc-accent text-sm"),l(6),h("",i.editWorkspaceForm.invalid?"bg-cc-surface cursor-not-allowed text-cc-overlay":"bg-cc-accent hover:bg-cc-accent-highlight text-cc-base"," rounded py-[6px] px-3  text-sm font-semibold"),m("disabled",i.editWorkspaceForm.invalid)}}function pe(o,r){if(o&1){let i=w();t(0,"div",16)(1,"div",17)(2,"div",18),s(3,"app-workspace-icon",19),t(4,"h2",20),c(5),n(),t(6,"button",21),u("click",function(){x(i);let e=d(2);return k(e.editMode=!0)}),s(7,"app-pencil-icon",22),n()()(),t(8,"p",23),c(9),n()()}if(o&2){let i=d(2);l(3),m("workspace",i.workspace),l(2),j(i.workspace.title),l(4),j(i.workspace.description)}}function de(o,r){if(o&1&&(t(0,"div",16)(1,"div",18),s(2,"app-user-icon",24),t(3,"h3",25),c(4,"Your boards"),n()(),s(5,"app-boards-cards-grid",5),n()),o&2){let i=d(2);l(5),m("workspace",i.workspace)}}function me(o,r){if(o&1){let i=w();t(0,"div",26),s(1,"img",27),t(2,"p",28),c(3,"Boards are where work gets done in Trello. On a board, you can move cards between lists to keep projects, tasks, and more on track."),n(),t(4,"button",29),u("click",function(){x(i);let e=d(2);return k(e.showCreateBoardModal(e.workspace.id))}),c(5,"Create your first board"),n()()}}function ue(o,r){if(o&1&&(t(0,"div",1),_(1,le,16,8,"form",2)(2,pe,10,3),s(3,"hr",3),_(4,de,6,1,"div",4)(5,me,6,0),s(6,"app-delete-workspace",5),n()),o&2){let i=d();l(),S(1,i.editMode?1:2),l(3),S(4,i.workspace.boards.length>0?4:5),l(2),m("workspace",i.workspace)}}var qe=(()=>{let r=class r{constructor(){this.appService=g(F),this.titleService=g(L),this.router=g(W),this.editMode=!1,this.editWorkspaceForm=new D({title:new y("",[b.required,b.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),description:new y("")})}set id(a){this.appService.getWorkspace(a).subscribe({next:e=>{e?(this.editMode=!1,this.workspace=e,this.editWorkspaceForm.patchValue({title:e.title,description:e.description}),this.titleService.setTitle(`${this.workspace.title} | Trello`)):this.router.navigate([""])}})}showCreateBoardModal(a){this.appService.setCreateBoardWorkspace(a);let e=document.getElementById("create-board-modal");e&&e.showModal()}editWorkspaceInfo(){let a=this.editWorkspaceForm.getRawValue().title,e=this.editWorkspaceForm.getRawValue().description;this.appService.editWorkspaceInfo(a,e,this.workspace.id),this.cancelEdit()}cancelEdit(){this.editMode=!1,this.editWorkspaceForm.patchValue({title:this.workspace.title,description:this.workspace.description})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=v({type:r,selectors:[["app-workspace"]],hostAttrs:[1,"flex","flex-grow"],inputs:{id:"id"},standalone:!0,features:[C],decls:1,vars:1,consts:[["class","px-4 gap-4 flex flex-col text-cc-text w-full"],[1,"px-4","gap-4","flex","flex-col","text-cc-text","w-full"],["class","flex flex-col max-w-64 w-full gap-3 text-cc-subtle",3,"formGroup"],[1,"border-t","border-cc-border/15"],["class","flex flex-col gap-4"],[3,"workspace"],[1,"flex","flex-col","max-w-64","w-full","gap-3","text-cc-subtle",3,"formGroup","ngSubmit"],["for","name",1,"flex","flex-col","gap-1"],[1,"font-bold","text-xs"],[1,"text-cc-danger-red"],["formControlName","title","id","name","type","text"],["for","description",1,"flex","flex-col","gap-1"],["formControlName","description","id","description","rows","5",1,"hover:bg-cc-surface","rounded","bg-cc-surface/60","outline-none","p-2","border-2","border-cc-border/40","focus:border-cc-accent","text-sm","resize-none"],[1,"flex","gap-1"],["type","submit",3,"disabled"],["type","button",1,"bg-cc-surface","hover:bg-cc-overlay","rounded","py-[6px]","px-3","text-sm","font-semibold",3,"click"],[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],[1,"flex","gap-3","items-center"],["sizeClasses","size-14 text-4xl rounded",3,"workspace"],[1,"text-xl","font-semibold"],["aria-label","Edit workspace info.",1,"p-2","rounded","hover:bg-cc-overlay",3,"click"],["dimensions","size-3"],[1,"text-xs","text-cc-subtle","leading-5"],["dimensions","size-6"],[1,"font-bold"],[1,"flex","flex-col","gap-7","items-center","max-w-[500px]","mx-auto"],["src","../../../assets/workspace-first-board.svg","alt","",1,"max-w-[410px]"],[1,"text-sm","text-cc-subtle","text-center"],[1,"bg-cc-accent","hover:bg-cc-accent-highlight","py-[6px]","px-6","rounded","text-cc-base","text-sm","font-medium",3,"click"]],template:function(e,p){e&1&&_(0,ue,7,3,"div",0),e&2&&S(0,p.workspace?0:-1)},dependencies:[X,ie,U,Y,G,O,E,V,T,M,I,N,oe]});let o=r;return o})();export{qe as default};
