import{a as Y,b as H,c as J}from"./chunk-IPLKVJLZ.js";import{b as U}from"./chunk-PREMFXLD.js";import{a as X}from"./chunk-VPMRTOLG.js";import{E as K,a as F,b as k,c as E,d as M,e as T,f as C,g as V,h as D,i as I,j as N,k as G}from"./chunk-OJTBDH32.js";import{$a as Z,Aa as m,Ba as d,I as u,K as b,Ma as B,Na as a,Oa as j,P as x,Pa as R,Q as f,R as A,Ra as _,Va as q,ba as l,bb as $,eb as O,ib as W,ja as g,la as p,pa as v,pb as y,qa as S,qb as P,ua as t,va as r,wa as s,xa as w}from"./chunk-GRWJBT5S.js";var Q=(()=>{let n=class n{constructor(){this.dimensions="size-2"}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=b({type:n,selectors:[["app-user-icon"]],inputs:{dimensions:"dimensions"},standalone:!0,features:[_],decls:3,vars:1,consts:[[3,"ngClass"],["data-slot","icon","fill","none","stroke-width","2","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","aria-hidden","true"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"]],template:function(e,h){e&1&&(t(0,"div",0),A(),t(1,"svg",1),s(2,"path",2),r()()),e&2&&p("ngClass",h.dimensions+" flex items-center justify-center")},dependencies:[$,Z]});let o=n;return o})();function oe(o,n){if(o&1){let i=w();t(0,"div",2)(1,"div",3)(2,"p"),a(3,"Delete Workspace?"),r(),t(4,"button",4),s(5,"app-xmark-icon",5),r()(),t(6,"div",6)(7,"h3",7),a(8),r(),t(9,"p",8),a(10,"Things to know:"),r(),t(11,"ul",9)(12,"li")(13,"p",10),s(14,"span",11),a(15," This is permanent and can't be undone. "),r()(),t(16,"li")(17,"p",10),s(18,"span",11),a(19," All boards in this Workspace will be closed. "),r()()(),t(20,"form",12),m("ngSubmit",function(){x(i);let e=d();return f(e.deleteWorkspace())}),t(21,"label",13)(22,"span",8),a(23,"Enter the Workspace name to delete"),r(),s(24,"input",14),r(),t(25,"button",15),a(26,"Delete Workspace"),r()()()()}if(o&2){let i=d();l(8),R('Enter the Workspace name "',i.workspace.title,'" to delete'),l(12),p("formGroup",i.deleteWorkspaceForm),l(5),v("",i.deleteWorkspaceForm.invalid?"bg-cc-overlay cursor-not-allowed":"bg-cc-danger-red hover:brightness-110 hover:bg-cc-danger-red"," rounded text-cc-base py-2 text-sm font-medium"),p("disabled",i.deleteWorkspaceForm.invalid)}}var ee=(()=>{let n=class n{constructor(){this.appService=u(y),this.router=u(W),this.deleteWorkspaceForm=new T({workspaceTitle:new C("",k.required)})}deleteWorkspace(){this.appService.deleteWorkspace(this.workspace.id),this.router.navigate(["/"])}resetForm(){this.deleteWorkspaceForm.get("workspaceTitle").setValidators([k.required,k.pattern(this.workspace.title.trim())]),this.deleteWorkspaceForm.reset()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=b({type:n,selectors:[["app-delete-workspace"]],inputs:{workspace:"workspace"},standalone:!0,features:[_],decls:4,vars:1,consts:[["aria-label","Delete workspace.",1,"hover:underline","hover:text-cc-accent","text-cc-danger-red","me-auto","mt-7","py-3","text-sm","font-semibold",3,"cdkMenuTriggerFor","click"],["deleteMenu",""],["cdkMenu","",1,"bg-cc-menu","flex","flex-col","p-3","gap-2","w-[304px]","rounded-xl","border","border-cc-border/15","shadow-xl","shadow-cc-shadow","text-cc-subtle","text-sm"],[1,"py-1","px-2","font-semibold","flex","justify-center","items-center","relative"],["aria-label","Close popover","cdkMenuItem","",1,"absolute","right-0","w-8","aspect-square","rounded-md","flex","justify-center","items-center","hover:bg-cc-menu-item-hover"],["dimensions","size-3"],[1,"flex","flex-col","gap-2","mt-1","font-semibold"],[1,"text-cc-text","text-base"],[1,"text-xs"],[1,"font-normal","flex","flex-col","gap-2","text-cc-text"],[1,"flex","items-start","gap-2"],[1,"w-2","mt-[6px]","aspect-square","rounded-full","bg-cc-subtle"],[1,"flex","flex-col","gap-2",3,"formGroup","ngSubmit"],["for","workspace-name-delete"],["formControlName","workspaceTitle","id","workspace-name-delete","type","text",1,"py-[6px]","hover:bg-cc-surface","rounded","bg-cc-base","outline-none","px-2","mt-1","border-2","border-cc-border/40","focus:border-cc-accent","font-normal","w-full"],["type","submit",3,"disabled"]],template:function(e,h){if(e&1&&(t(0,"button",0),m("click",function(){return h.resetForm()}),a(1,` Delete this Workspace?
`),r(),g(2,oe,27,6,"ng-template",null,1,q)),e&2){let z=B(3);p("cdkMenuTriggerFor",z)}},dependencies:[J,H,Y,K,G,V,F,E,M,D,I,N]});let o=n;return o})();function ie(o,n){if(o&1){let i=w();t(0,"form",6),m("ngSubmit",function(){x(i);let e=d(2);return f(e.editWorkspaceInfo())}),t(1,"label",7)(2,"span",8),a(3,"Name "),t(4,"span",9),a(5,"*"),r()(),s(6,"input",10),r(),t(7,"label",11)(8,"span",8),a(9,"Description (optional)"),r(),s(10,"textarea",12),r(),t(11,"div",13)(12,"button",14),a(13,"Save"),r(),t(14,"button",15),m("click",function(){x(i);let e=d(2);return f(e.cancelEdit())}),a(15,"Cancel"),r()()()}if(o&2){let i=d(2),c;p("formGroup",i.editWorkspaceForm),l(6),v("",(c=i.editWorkspaceForm.get("title"))!=null&&c.errors?"border-cc-danger-red":""," py-[6px] hover:bg-cc-surface rounded bg-cc-surface/60 outline-none px-2 border-2 border-cc-border/40 focus:border-cc-accent text-sm"),l(6),v("",i.editWorkspaceForm.invalid?"bg-cc-surface cursor-not-allowed text-cc-overlay":"bg-cc-accent hover:bg-cc-accent-highlight text-cc-base"," rounded py-[6px] px-3  text-sm font-semibold"),p("disabled",i.editWorkspaceForm.invalid)}}function re(o,n){if(o&1){let i=w();t(0,"div",16)(1,"div",17)(2,"div",18),s(3,"app-workspace-icon",19),t(4,"h2",20),a(5),r(),t(6,"button",21),m("click",function(){x(i);let e=d(2);return f(e.editMode=!0)}),s(7,"app-pencil-icon",22),r()()(),t(8,"p",23),a(9),r()()}if(o&2){let i=d(2);l(3),p("workspace",i.workspace),l(2),j(i.workspace.title),l(4),j(i.workspace.description)}}function ne(o,n){if(o&1&&(t(0,"div",16)(1,"div",18),s(2,"app-user-icon",24),t(3,"h3",25),a(4,"Your boards"),r()(),s(5,"app-boards-cards-grid",5),r()),o&2){let i=d(2);l(5),p("workspace",i.workspace)}}function ae(o,n){if(o&1){let i=w();t(0,"div",26),s(1,"img",27),t(2,"p",28),a(3,"Boards are where work gets done in Trello. On a board, you can move cards between lists to keep projects, tasks, and more on track."),r(),t(4,"button",29),m("click",function(){x(i);let e=d(2);return f(e.showCreateBoardModal(e.workspace.id))}),a(5,"Create your first board"),r()()}}function ce(o,n){if(o&1&&(t(0,"div",1),g(1,ie,16,8,"form",2)(2,re,10,3),s(3,"hr",3),g(4,ne,6,1,"div",4)(5,ae,6,0),s(6,"app-delete-workspace",5),r()),o&2){let i=d();l(),S(1,i.editMode?1:2),l(3),S(4,i.workspace.boards.length>0?4:5),l(2),p("workspace",i.workspace)}}var De=(()=>{let n=class n{constructor(){this.appService=u(y),this.titleService=u(O),this.router=u(W),this.editMode=!1,this.editWorkspaceForm=new T({title:new C("",[k.required,k.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),description:new C("")})}set id(c){this.appService.getWorkspace(c).subscribe({next:e=>{e?(this.editMode=!1,this.workspace=e,this.editWorkspaceForm.patchValue({title:e.title,description:e.description}),this.titleService.setTitle(`${this.workspace.title} | Trello`)):this.router.navigate([""])}})}showCreateBoardModal(c){this.appService.setCreateBoardWorkspace(c);let e=document.getElementById("create-board-modal");e&&e.showModal()}editWorkspaceInfo(){let c=this.editWorkspaceForm.getRawValue().title,e=this.editWorkspaceForm.getRawValue().description;this.appService.editWorkspaceInfo(c,e,this.workspace.id),this.cancelEdit()}cancelEdit(){this.editMode=!1,this.editWorkspaceForm.patchValue({title:this.workspace.title,description:this.workspace.description})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=b({type:n,selectors:[["app-workspace"]],hostAttrs:[1,"flex","flex-grow"],inputs:{id:"id"},standalone:!0,features:[_],decls:1,vars:1,consts:[["class","px-4 gap-4 flex flex-col text-cc-text w-full"],[1,"px-4","gap-4","flex","flex-col","text-cc-text","w-full"],["class","flex flex-col max-w-64 w-full gap-3 text-cc-subtle",3,"formGroup"],[1,"border-t","border-cc-border/15"],["class","flex flex-col gap-4"],[3,"workspace"],[1,"flex","flex-col","max-w-64","w-full","gap-3","text-cc-subtle",3,"formGroup","ngSubmit"],["for","name",1,"flex","flex-col","gap-1"],[1,"font-bold","text-xs"],[1,"text-cc-danger-red"],["formControlName","title","id","name","type","text"],["for","description",1,"flex","flex-col","gap-1"],["formControlName","description","id","description","rows","5",1,"hover:bg-cc-surface","rounded","bg-cc-surface/60","outline-none","p-2","border-2","border-cc-border/40","focus:border-cc-accent","text-sm","resize-none"],[1,"flex","gap-1"],["type","submit",3,"disabled"],["type","button",1,"bg-cc-surface","hover:bg-cc-overlay","rounded","py-[6px]","px-3","text-sm","font-semibold",3,"click"],[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],[1,"flex","gap-3","items-center"],["sizeClasses","size-14 text-4xl rounded",3,"workspace"],[1,"text-xl","font-semibold"],["aria-label","Edit workspace info.",1,"p-2","rounded","hover:bg-cc-overlay",3,"click"],["dimensions","size-3"],[1,"text-xs","text-cc-subtle","leading-5"],["dimensions","size-6"],[1,"font-bold"],[1,"flex","flex-col","gap-7","items-center","max-w-[500px]","mx-auto"],["src","../../../assets/workspace-first-board.svg","alt","",1,"max-w-[410px]"],[1,"text-sm","text-cc-subtle","text-center"],[1,"bg-cc-accent","hover:bg-cc-accent-highlight","py-[6px]","px-6","rounded","text-cc-base","text-sm","font-medium",3,"click"]],template:function(e,h){e&1&&g(0,ce,7,3,"div",0),e&2&&S(0,h.workspace?0:-1)},dependencies:[U,Q,P,X,G,V,F,E,M,D,I,N,ee]});let o=n;return o})();export{De as default};
