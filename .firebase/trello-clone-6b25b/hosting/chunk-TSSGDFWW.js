import{b as z}from"./chunk-PREMFXLD.js";import{a as D}from"./chunk-VPMRTOLG.js";import{a as N,b as S,c as G,d as B,e as j,f as y,g as A,h as H,i as R,j as Z,k as $}from"./chunk-VMIWZNEF.js";import{$a as W,Aa as f,Ba as l,I as C,K as w,Na as a,Oa as v,P as m,Q as u,R as V,Ra as k,ba as p,bb as M,eb as E,ib as F,ja as _,la as d,pa as b,pb as T,qa as g,qb as I,ua as o,va as c,wa as s,xa as x}from"./chunk-GRWJBT5S.js";var q=(()=>{let r=class r{constructor(){this.dimensions="size-2"}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=w({type:r,selectors:[["app-user-icon"]],inputs:{dimensions:"dimensions"},standalone:!0,features:[k],decls:3,vars:1,consts:[[3,"ngClass"],["data-slot","icon","fill","none","stroke-width","2","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","aria-hidden","true"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"]],template:function(e,h){e&1&&(o(0,"div",0),V(),o(1,"svg",1),s(2,"path",2),c()()),e&2&&d("ngClass",h.dimensions+" flex items-center justify-center")},dependencies:[M,W]});let i=r;return i})();function O(i,r){if(i&1){let t=x();o(0,"form",6),f("ngSubmit",function(){m(t);let e=l(2);return u(e.editWorkspaceInfo())}),o(1,"label",7)(2,"span",8),a(3,"Name "),o(4,"span",9),a(5,"*"),c()(),s(6,"input",10),c(),o(7,"label",11)(8,"span",8),a(9,"Description (optional)"),c(),s(10,"textarea",12),c(),o(11,"div",13)(12,"button",14),a(13,"Save"),c(),o(14,"button",15),f("click",function(){m(t);let e=l(2);return u(e.cancelEdit())}),a(15,"Cancel"),c()()()}if(i&2){let t=l(2),n;d("formGroup",t.editWorkspaceForm),p(6),b("",(n=t.editWorkspaceForm.get("title"))!=null&&n.errors?"border-cc-danger-red":""," py-[6px] hover:bg-cc-surface rounded bg-cc-surface/60 outline-none px-2 border-2 border-cc-border/40 focus:border-cc-accent text-sm"),p(6),b("",t.editWorkspaceForm.invalid?"bg-cc-surface cursor-not-allowed text-cc-overlay":"bg-cc-accent hover:bg-cc-accent-highlight text-cc-base"," rounded py-[6px] px-3  text-sm font-semibold"),d("disabled",t.editWorkspaceForm.invalid)}}function P(i,r){if(i&1){let t=x();o(0,"div",16)(1,"div",17)(2,"div",18),s(3,"app-workspace-icon",19),o(4,"h2",20),a(5),c(),o(6,"button",21),f("click",function(){m(t);let e=l(2);return u(e.editMode=!0)}),s(7,"app-pencil-icon",22),c()()(),o(8,"p",23),a(9),c()()}if(i&2){let t=l(2);p(3),d("workspace",t.workspace),p(2),v(t.workspace.title),p(4),v(t.workspace.description)}}function U(i,r){if(i&1&&(o(0,"div",16)(1,"div",18),s(2,"app-user-icon",24),o(3,"h3",25),a(4,"Your boards"),c()(),s(5,"app-boards-cards-grid",26),c()),i&2){let t=l(2);p(5),d("workspace",t.workspace)}}function Y(i,r){if(i&1){let t=x();o(0,"div",27),s(1,"img",28),o(2,"p",29),a(3,"Boards are where work gets done in Trello. On a board, you can move cards between lists to keep projects, tasks, and more on track."),c(),o(4,"button",30),f("click",function(){m(t);let e=l(2);return u(e.showCreateBoardModal(e.workspace.id))}),a(5,"Create your first board"),c()()}}function J(i,r){if(i&1){let t=x();o(0,"div",1),_(1,O,16,8,"form",2)(2,P,10,3),s(3,"hr",3),_(4,U,6,1,"div",4)(5,Y,6,0),o(6,"button",5),f("click",function(){m(t);let e=l();return u(e.deleteWorkspace(e.workspace.id))}),a(7," Delete this Workspace? "),c()()}if(i&2){let t=l();p(),g(1,t.editMode?1:2),p(3),g(4,t.workspace.boards.length>0?4:5)}}var xe=(()=>{let r=class r{constructor(){this.appService=C(T),this.titleService=C(E),this.router=C(F),this.editMode=!1,this.editWorkspaceForm=new j({title:new y("",[S.required,S.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),description:new y("")})}set id(n){this.appService.getWorkspace(n).subscribe({next:e=>{e?(this.editMode=!1,this.workspace=e,this.editWorkspaceForm.patchValue({title:e.title,description:e.description}),this.titleService.setTitle(`${this.workspace.title} | Trello`)):this.router.navigate([""])}})}deleteWorkspace(n){this.appService.deleteWorkspace(n),this.router.navigate(["/"])}showCreateBoardModal(n){this.appService.setCreateBoardWorkspace(n);let e=document.getElementById("create-board-modal");e&&e.showModal()}editWorkspaceInfo(){let n=this.editWorkspaceForm.getRawValue().title,e=this.editWorkspaceForm.getRawValue().description;this.appService.editWorkspaceInfo(n,e,this.workspace.id),this.cancelEdit()}cancelEdit(){this.editMode=!1,this.editWorkspaceForm.patchValue({title:this.workspace.title,description:this.workspace.description})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=w({type:r,selectors:[["app-workspace"]],hostAttrs:[1,"flex","flex-grow"],inputs:{id:"id"},standalone:!0,features:[k],decls:1,vars:1,consts:[["class","px-4 gap-4 flex flex-col text-cc-text w-full"],[1,"px-4","gap-4","flex","flex-col","text-cc-text","w-full"],["class","flex flex-col max-w-64 w-full gap-3 text-cc-subtle",3,"formGroup"],[1,"border-t","border-cc-border/15"],["class","flex flex-col gap-4"],["aria-label","Delete workspace.",1,"hover:underline","hover:text-cc-accent","text-cc-danger-red","me-auto","mt-10","text-sm","font-semibold",3,"click"],[1,"flex","flex-col","max-w-64","w-full","gap-3","text-cc-subtle",3,"formGroup","ngSubmit"],["for","name",1,"flex","flex-col","gap-1"],[1,"font-bold","text-xs"],[1,"text-cc-danger-red"],["formControlName","title","id","name","type","text"],["for","description",1,"flex","flex-col","gap-1"],["formControlName","description","id","description","rows","5",1,"hover:bg-cc-surface","rounded","bg-cc-surface/60","outline-none","p-2","border-2","border-cc-border/40","focus:border-cc-accent","text-sm","resize-none"],[1,"flex","gap-1"],["type","submit",3,"disabled"],["type","button",1,"bg-cc-surface","hover:bg-cc-overlay","rounded","py-[6px]","px-3","text-sm","font-semibold",3,"click"],[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],[1,"flex","gap-3","items-center"],["sizeClasses","size-14 text-4xl rounded",3,"workspace"],[1,"text-xl","font-semibold"],["aria-label","Edit workspace info.",1,"p-2","rounded","hover:bg-cc-overlay",3,"click"],["dimensions","size-3"],[1,"text-xs","text-cc-subtle","leading-5"],["dimensions","size-6"],[1,"font-bold"],[3,"workspace"],[1,"flex","flex-col","gap-7","items-center","max-w-[500px]","mx-auto"],["src","../../../assets/workspace-first-board.svg","alt","",1,"max-w-[410px]"],[1,"text-sm","text-cc-subtle","text-center"],[1,"bg-cc-accent","hover:bg-cc-accent-highlight","py-[6px]","px-6","rounded","text-cc-base","text-sm","font-medium",3,"click"]],template:function(e,h){e&1&&_(0,J,8,2,"div",0),e&2&&g(0,h.workspace?0:-1)},dependencies:[z,q,I,D,$,A,N,G,B,H,R,Z]});let i=r;return i})();export{xe as default};
