import{b as I}from"./chunk-BRZCOPUQ.js";import{a as z,b as D,c as N,d as G,e as B,f as M,g as j,h as L,i as A,j as H,k as R}from"./chunk-6MYM73WR.js";import{$ as p,$a as W,G as v,I as m,Ia as a,Ja as V,Ma as C,N as u,O as f,P as _,Wa as b,Ya as S,db as E,ha as h,ja as d,kb as F,lb as T,na as y,oa as k,sa as o,ta as s,ua as c,va as w,ya as x,za as l}from"./chunk-AKSNDTNF.js";var q=(()=>{let i=class i{constructor(){this.dimensions="size-2"}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=m({type:i,selectors:[["app-user-icon"]],inputs:{dimensions:"dimensions"},standalone:!0,features:[C],decls:3,vars:1,consts:[[3,"ngClass"],["data-slot","icon","fill","none","stroke-width","2","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","aria-hidden","true"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"]],template:function(e,g){e&1&&(o(0,"div",0),_(),o(1,"svg",1),c(2,"path",2),s()()),e&2&&d("ngClass",g.dimensions+" flex items-center justify-center")},dependencies:[S,b]});let t=i;return t})();var O=(()=>{let i=class i{constructor(){this.dimensions="size-2"}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=m({type:i,selectors:[["app-pencil-icon"]],inputs:{dimensions:"dimensions"},standalone:!0,features:[C],decls:3,vars:1,consts:[[3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512","fill","currentColor"],["d","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]],template:function(e,g){e&1&&(o(0,"div",0),_(),o(1,"svg",1),c(2,"path",2),s()()),e&2&&d("ngClass",g.dimensions+" flex justify-center items-center")},dependencies:[S,b]});let t=i;return t})();function U(t,i){if(t&1){let n=w();o(0,"form",6),x("ngSubmit",function(){u(n);let e=l(2);return f(e.editWorkspaceInfo())}),o(1,"label",7)(2,"span",8),a(3,"Name "),o(4,"span",9),a(5,"*"),s()(),c(6,"input",10),s(),o(7,"label",11)(8,"span",8),a(9,"Description (optional)"),s(),c(10,"textarea",12),s(),o(11,"div",13)(12,"button",14),a(13,"Save"),s(),o(14,"button",15),x("click",function(){u(n);let e=l(2);return f(e.cancelEdit())}),a(15,"Cancel"),s()()()}if(t&2){let n=l(2),r;d("formGroup",n.editWorkspaceForm),p(6),y("",(r=n.editWorkspaceForm.get("title"))!=null&&r.errors?"border-cc-danger-red":""," py-[6px] hover:bg-cc-surface rounded bg-cc-surface/60 outline-none px-2 border-2 border-cc-border/40 focus:border-cc-accent text-sm"),p(6),y("",n.editWorkspaceForm.invalid?"bg-cc-surface cursor-not-allowed text-cc-overlay":"bg-cc-accent hover:bg-cc-accent-highlight text-cc-base"," rounded py-[6px] px-3  text-sm font-semibold"),d("disabled",n.editWorkspaceForm.invalid)}}function Y(t,i){if(t&1){let n=w();o(0,"div",16)(1,"div",17)(2,"div",18),c(3,"app-workspace-icon",19),o(4,"h2",20),a(5),s(),o(6,"button",21),x("click",function(){u(n);let e=l(2);return f(e.editMode=!0)}),c(7,"app-pencil-icon",22),s()()(),o(8,"p",23),a(9),s()()}if(t&2){let n=l(2);p(3),d("workspace",n.workspace),p(2),V(n.workspace.title),p(4),V(n.workspace.description)}}function $(t,i){if(t&1&&(o(0,"div",16)(1,"div",18),c(2,"app-user-icon",24),o(3,"h3",25),a(4,"Your boards"),s()(),c(5,"app-boards-cards-grid",26),s()),t&2){let n=l(2);p(5),d("workspace",n.workspace)}}function J(t,i){if(t&1){let n=w();o(0,"div",27),c(1,"img",28),o(2,"p",29),a(3,"Boards are where work gets done in Trello. On a board, you can move cards between lists to keep projects, tasks, and more on track."),s(),o(4,"button",30),x("click",function(){u(n);let e=l(2);return f(e.showCreateBoardModal(e.workspace.id))}),a(5,"Create your first board"),s()()}}function K(t,i){if(t&1){let n=w();o(0,"div",1),h(1,U,16,8,"form",2)(2,Y,10,3),c(3,"hr",3),h(4,$,6,1,"div",4)(5,J,6,0),o(6,"button",5),x("click",function(){u(n);let e=l();return f(e.deleteWorkspace(e.workspace.id))}),a(7," Delete this Workspace? "),s()()}if(t&2){let n=l();p(),k(1,n.editMode?1:2),p(3),k(4,n.workspace.boards.length>0?4:5)}}var ge=(()=>{let i=class i{constructor(){this.appService=v(F),this.titleService=v(W),this.router=v(E),this.editMode=!1,this.editWorkspaceForm=new B({title:new M("",D.required),description:new M("")})}set id(r){this.appService.getWorkspace(r).subscribe({next:e=>{e?(this.editMode=!1,this.workspace=e,this.editWorkspaceForm.patchValue({title:e.title,description:e.description}),this.titleService.setTitle(`${this.workspace.title} | Trello`)):this.router.navigate([""])}})}deleteWorkspace(r){this.appService.deleteWorkspace(r),this.router.navigate(["/"])}showCreateBoardModal(r){this.appService.setCreateBoardWorkspace(r);let e=document.getElementById("create-board-modal");e&&e.showModal()}editWorkspaceInfo(){this.cancelEdit();let r=this.editWorkspaceForm.getRawValue().title,e=this.editWorkspaceForm.getRawValue().description;this.appService.editWorkspaceInfo(r,e,this.workspace.id)}cancelEdit(){this.editMode=!1}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=m({type:i,selectors:[["app-workspace"]],hostAttrs:[1,"flex","flex-grow"],inputs:{id:"id"},standalone:!0,features:[C],decls:1,vars:1,consts:[["class","px-4 gap-4 flex flex-col text-cc-text w-full"],[1,"px-4","gap-4","flex","flex-col","text-cc-text","w-full"],["class","flex flex-col max-w-64 w-full gap-3 text-cc-subtle",3,"formGroup"],[1,"border-t","border-cc-border/15"],["class","flex flex-col gap-4"],["aria-label","Delete workspace.",1,"hover:underline","hover:text-cc-accent","text-cc-danger-red","me-auto","mt-10","text-sm","font-semibold",3,"click"],[1,"flex","flex-col","max-w-64","w-full","gap-3","text-cc-subtle",3,"formGroup","ngSubmit"],["for","name",1,"flex","flex-col","gap-1"],[1,"font-bold","text-xs"],[1,"text-cc-danger-red"],["formControlName","title","id","name","type","text"],["for","description",1,"flex","flex-col","gap-1"],["formControlName","description","id","description","rows","5",1,"hover:bg-cc-surface","rounded","bg-cc-surface/60","outline-none","p-2","border-2","border-cc-border/40","focus:border-cc-accent","text-sm","resize-none"],[1,"flex","gap-1"],["type","submit",3,"disabled"],["type","button",1,"bg-cc-surface","hover:bg-cc-overlay","rounded","py-[6px]","px-3","text-sm","font-semibold",3,"click"],[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],[1,"flex","gap-3","items-center"],["sizeClasses","size-14 text-4xl rounded",3,"workspace"],[1,"text-xl","font-semibold"],["aria-label","Edit workspace info.",1,"p-2","rounded","hover:bg-cc-overlay",3,"click"],["dimensions","size-3"],[1,"text-xs","text-cc-subtle","leading-5"],["dimensions","size-6"],[1,"font-bold"],[3,"workspace"],[1,"flex","flex-col","gap-7","items-center","max-w-[500px]","mx-auto"],["src","../../../assets/workspace-first-board.svg","alt","",1,"max-w-[410px]"],[1,"text-sm","text-cc-subtle","text-center"],[1,"bg-cc-accent","hover:bg-cc-accent-highlight","py-[6px]","px-6","rounded","text-cc-base","text-sm","font-medium",3,"click"]],template:function(e,g){e&1&&h(0,K,8,2,"div",0),e&2&&k(0,g.workspace?0:-1)},dependencies:[I,q,T,O,R,j,z,N,G,L,A,H]});let t=i;return t})();export{ge as default};
